(()=>{var a={};a.id=302,a.ids=[302],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},2602:(a,b,c)=>{"use strict";let d=null;try{d=(0,eval)("require")("pdf-parse")}catch(a){d=null}let e=null;try{e=(0,eval)("require")("pdfjs-dist/legacy/build/pdf.js")}catch(a){e=null}let f=c(74075);function g(a,b){return a.readUInt32LE(b)}function h(a,b){return a.readUInt16LE(b)}async function i(a){if(!e)return"";try{let b=Buffer.isBuffer(a)?new Uint8Array(a):new Uint8Array(Buffer.from(a)),c=e.getDocument({data:b,disableWorker:!0,isEvalSupported:!1,useWorkerFetch:!1}),d=await c.promise,f=[],g=Math.min(d.numPages||0,50);for(let a=1;a<=g;a++){let b=await d.getPage(a),c=((await b.getTextContent()).items||[]).map(a=>a.str||"").join(" ");f.push(c)}return f.join("\n").replace(/\s+/g," ").trim()}catch(a){return""}}function j(a,b){return(a||"").toLowerCase().endsWith(b)}a.exports={parseBufferToText:async function a(a,b,c){let e=(b||"").toLowerCase();if(e.includes("pdf")||j(c,".pdf")){if(d)try{return((await d(a)).text||"").trim()}catch(a){}return await i(a)}if(e.includes("word")||e.includes("docx")||j(c,".docx")){try{let b=(0,eval)("require")("mammoth"),c=await b.extractRawText({buffer:Buffer.isBuffer(a)?a:Buffer.from(a)}),d=String(c?.value||"").replace(/\s+/g," ").trim();if(d)return d}catch(a){}return function(a){let b,c=Buffer.isBuffer(a)?a:Buffer.from(a),d=Math.min(c.length,65557),e=-1;for(let a=c.length-22;a>=c.length-d&&!(a<0);a--)if(0x6054b50===g(c,a)){e=a;break}if(e<0)return"";g(c,e+12);let i=g(c,e+16),j=null;for(;i+46<=c.length&&0x2014b50===g(c,i);){let a=h(c,i+10),b=g(c,i+20);g(c,i+24);let d=h(c,i+28),e=h(c,i+30),f=h(c,i+32),k=g(c,i+42),l=i+46,m=l+d;if("word/document.xml"===c.slice(l,m).toString("utf8")){j={relOff:k,compMethod:a,compSize:b};break}i=m+e+f}if(!j)return"";let k=j.relOff;if(0x4034b50!==g(c,k))return"";let l=h(c,k+26),m=h(c,k+28),n=k+30+l+m,o=n+j.compSize;if(o>c.length)return"";let p=c.slice(n,o);if(0===j.compMethod)b=p.toString("utf8");else if(8!==j.compMethod)return"";else try{b=f.inflateRawSync(p).toString("utf8")}catch{return""}return stripXml(b)}(a)}if(e.includes("msword")||j(c,".doc"))try{let b=new((0,eval)("require")("word-extractor")),c=await b.extract(Buffer.isBuffer(a)?a:Buffer.from(a)),d=String(c.getBody()||"").replace(/\s+/g," ").trim();if(d)return d}catch(a){}return Buffer.isBuffer(a)?a.toString("utf8"):Buffer.from(a).toString("utf8")},stripHtml:function(a){return String(a||"").replace(/<script[\s\S]*?<\/script>/gi," ").replace(/<style[\s\S]*?<\/style>/gi," ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim()}}},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70549:(a,b,c)=>{"use strict";c.r(b),c.d(b,{handler:()=>D,patchFetch:()=>C,routeModule:()=>y,serverHooks:()=>B,workAsyncStorage:()=>z,workUnitAsyncStorage:()=>A});var d={};c.r(d),c.d(d,{POST:()=>x,runtime:()=>v});var e=c(95736),f=c(9117),g=c(4044),h=c(39326),i=c(32324),j=c(261),k=c(54290),l=c(85328),m=c(38928),n=c(46595),o=c(3421),p=c(17679),q=c(41681),r=c(63446),s=c(86439),t=c(51356),u=c(10641);let v="nodejs",{stripHtml:w}=c(2602);async function x(a){try{let b=await a.json(),c=String(b?.url||"");if(!/^https?:\/\//i.test(c))throw Error("Only http/https allowed");let d=await fetch(c,{redirect:"follow"}),e=d.headers.get("content-type")||"",f=await d.text(),g=/html/i.test(e)?w(f):f;return u.NextResponse.json({text:g,contentType:e})}catch(a){return u.NextResponse.json({error:a?.message||"Fetch failed"},{status:400})}}let y=new e.AppRouteRouteModule({definition:{kind:f.RouteKind.APP_ROUTE,page:"/api/fetch-url/route",pathname:"/api/fetch-url",filename:"route",bundlePath:"app/api/fetch-url/route"},distDir:".next",relativeProjectDir:"",resolvedPagePath:"/opt/homebrew/var/www/projects/JobPrep/web/src/app/api/fetch-url/route.ts",nextConfigOutput:"standalone",userland:d}),{workAsyncStorage:z,workUnitAsyncStorage:A,serverHooks:B}=y;function C(){return(0,g.patchFetch)({workAsyncStorage:z,workUnitAsyncStorage:A})}async function D(a,b,c){var d;let e="/api/fetch-url/route";"/index"===e&&(e="/");let g=await y.prepare(a,b,{srcPage:e,multiZoneDraftMode:!1});if(!g)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:u,params:v,nextConfig:w,isDraftMode:x,prerenderManifest:z,routerServerContext:A,isOnDemandRevalidate:B,revalidateOnlyGenerated:C,resolvedPathname:D}=g,E=(0,j.normalizeAppPath)(e),F=!!(z.dynamicRoutes[E]||z.routes[D]);if(F&&!x){let a=!!z.routes[D],b=z.dynamicRoutes[E];if(b&&!1===b.fallback&&!a)throw new s.NoFallbackError}let G=null;!F||y.isDev||x||(G="/index"===(G=D)?"/":G);let H=!0===y.isDev||!F,I=F&&!H,J=a.method||"GET",K=(0,i.getTracer)(),L=K.getActiveScopeSpan(),M={params:v,prerenderManifest:z,renderOpts:{experimental:{cacheComponents:!!w.experimental.cacheComponents,authInterrupts:!!w.experimental.authInterrupts},supportsDynamicResponse:H,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:null==(d=w.experimental)?void 0:d.cacheLife,isRevalidate:I,waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:void 0,onInstrumentationRequestError:(b,c,d)=>y.onRequestError(a,b,d,A)},sharedContext:{buildId:u}},N=new k.NodeNextRequest(a),O=new k.NodeNextResponse(b),P=l.NextRequestAdapter.fromNodeNextRequest(N,(0,l.signalFromNodeResponse)(b));try{let d=async c=>y.handle(P,M).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=K.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==m.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${J} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${J} ${a.url}`)}),g=async g=>{var i,j;let k=async({previousCacheEntry:f})=>{try{if(!(0,h.getRequestMeta)(a,"minimalMode")&&B&&C&&!f)return b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null;let e=await d(g);a.fetchMetrics=M.renderOpts.fetchMetrics;let i=M.renderOpts.pendingWaitUntil;i&&c.waitUntil&&(c.waitUntil(i),i=void 0);let j=M.renderOpts.collectedTags;if(!F)return await (0,o.I)(N,O,e,M.renderOpts.pendingWaitUntil),null;{let a=await e.blob(),b=(0,p.toNodeOutgoingHttpHeaders)(e.headers);j&&(b[r.NEXT_CACHE_TAGS_HEADER]=j),!b["content-type"]&&a.type&&(b["content-type"]=a.type);let c=void 0!==M.renderOpts.collectedRevalidate&&!(M.renderOpts.collectedRevalidate>=r.INFINITE_CACHE)&&M.renderOpts.collectedRevalidate,d=void 0===M.renderOpts.collectedExpire||M.renderOpts.collectedExpire>=r.INFINITE_CACHE?void 0:M.renderOpts.collectedExpire;return{value:{kind:t.CachedRouteKind.APP_ROUTE,status:e.status,body:Buffer.from(await a.arrayBuffer()),headers:b},cacheControl:{revalidate:c,expire:d}}}}catch(b){throw(null==f?void 0:f.isStale)&&await y.onRequestError(a,b,{routerKind:"App Router",routePath:e,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:I,isOnDemandRevalidate:B})},A),b}},l=await y.handleResponse({req:a,nextConfig:w,cacheKey:G,routeKind:f.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:z,isRoutePPREnabled:!1,isOnDemandRevalidate:B,revalidateOnlyGenerated:C,responseGenerator:k,waitUntil:c.waitUntil});if(!F)return null;if((null==l||null==(i=l.value)?void 0:i.kind)!==t.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==l||null==(j=l.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,h.getRequestMeta)(a,"minimalMode")||b.setHeader("x-nextjs-cache",B?"REVALIDATED":l.isMiss?"MISS":l.isStale?"STALE":"HIT"),x&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let m=(0,p.fromNodeOutgoingHttpHeaders)(l.value.headers);return(0,h.getRequestMeta)(a,"minimalMode")&&F||m.delete(r.NEXT_CACHE_TAGS_HEADER),!l.cacheControl||b.getHeader("Cache-Control")||m.get("Cache-Control")||m.set("Cache-Control",(0,q.getCacheControlHeader)(l.cacheControl)),await (0,o.I)(N,O,new Response(l.value.body,{headers:m,status:l.value.status||200})),null};L?await g(L):await K.withPropagatedContext(a.headers,()=>K.trace(m.BaseServerSpan.handleRequest,{spanName:`${J} ${a.url}`,kind:i.SpanKind.SERVER,attributes:{"http.method":J,"http.target":a.url}},g))}catch(b){if(b instanceof s.NoFallbackError||await y.onRequestError(a,b,{routerKind:"App Router",routePath:E,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:I,isOnDemandRevalidate:B})}),F)throw b;return await (0,o.I)(N,O,new Response(null,{status:500})),null}}},74075:a=>{"use strict";a.exports=require("zlib")},78335:()=>{},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},96487:()=>{}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[586,692],()=>b(b.s=70549));module.exports=c})();