(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80],{1120:(e,t,r)=>{"use strict";r.d(t,{T:()=>s});var a=r(5155);r(2115);var i=r(4269);function s(e){let{className:t,...r}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,i.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}},2051:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(5155),i=r(2115),s=r(1636),n=r(6948),d=r(6444),l=r(5142),o=r(1120),c=r(3998);function u(){let[e,t]=(0,i.useState)("feature"),[r,u]=(0,i.useState)(""),[p,g]=(0,i.useState)(""),[m,h]=(0,i.useState)(""),[v,x]=(0,i.useState)(""),[f,b]=(0,i.useState)("medium"),[j,y]=(0,i.useState)(!1),[w,N]=(0,i.useState)([]),[k,S]=(0,i.useState)([]),C=(0,i.useRef)(null),[E,F]=(0,i.useState)(0),[_,J]=(0,i.useState)(!1),R=e=>{let{title:t,description:r,variant:a}=e;(function(){let e=window;return e.Swal?Promise.resolve(e.Swal):new Promise((e,t)=>{let r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js",r.async=!0,r.onload=()=>e(window.Swal),r.onerror=()=>t(Error("Failed to load SweetAlert2")),document.head.appendChild(r)})})().then(e=>{e&&e.fire({title:t||"",text:r||"",icon:"destructive"===a?"error":"success",toast:!0,position:"top-end",timer:3e3,showConfirmButton:!1})}).catch(()=>{})},M=(0,i.useCallback)(e=>{N(t=>[...t,...e].slice(0,8))},[]),O=(0,i.useCallback)(e=>{let t=[];e.forEach(e=>{var r;let a=(null==(r=e.file)?void 0:r.name)||"file";(e.errors||[]).forEach(e=>{"file-too-large"===e.code?t.push("".concat(a," is too large (max 5MB)")):"file-invalid-type"===e.code?t.push("".concat(a," is not an image")):t.push("".concat(a,": ").concat(e.message))})}),S(t.slice(0,5)),setTimeout(()=>S([]),5e3)},[]),{getRootProps:P,getInputProps:T,isDragActive:z}=(0,s.VB)({accept:{"image/*":[]},multiple:!0,maxSize:5242880,onDropAccepted:M,onDropRejected:O}),B=(0,i.useMemo)(()=>w.map(e=>({f:e,url:URL.createObjectURL(e)})),[w]);async function L(){if(!r.trim()||!p.trim())return void R({title:"Missing fields",description:"Please fill title and description",variant:"destructive"});y(!0);try{let a={type:e,title:r,description:p,email:m.trim()||void 0,url:v.trim()||window.location.href};"bug"===e&&(a.severity=f);let i=new FormData;i.append("payload",JSON.stringify(a)),w.forEach(e=>i.append("files",e)),J(!0),F(0);let s=await new Promise((e,t)=>{let r=new XMLHttpRequest;r.open("POST","".concat("","/feedback")),r.upload.onprogress=e=>{e.lengthComputable&&F(Math.round(e.loaded/e.total*100))},r.onreadystatechange=()=>{if(4===r.readyState)try{let a=JSON.parse(r.responseText||"{}");r.status>=200&&r.status<300?e(a):t(Error((null==a?void 0:a.error)||"Submit failed (".concat(r.status,")")))}catch(e){t(Error("Submit failed"))}},r.onerror=()=>t(Error("Network error")),r.send(i)});if(!(null==s?void 0:s.ok))throw Error((null==s?void 0:s.error)||"Submit failed");R({title:"Thanks!",description:"Your feedback was submitted."}),u(""),g(""),h(""),x(""),b("medium"),t("feature"),N([])}catch(e){R({title:"Submit failed",description:e instanceof Error?e.message:String(e),variant:"destructive"})}finally{y(!1),J(!1),F(0)}}return(0,i.useEffect)(()=>()=>{B.forEach(e=>URL.revokeObjectURL(e.url))},[B]),(0,a.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Feedback"})}),(0,a.jsxs)(n.Wu,{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(d.J,{htmlFor:"type",children:"Type"}),(0,a.jsxs)("select",{id:"type",value:e,onChange:e=>t(e.target.value),className:"border-input h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm",children:[(0,a.jsx)("option",{value:"feature",children:"Feature request"}),(0,a.jsx)("option",{value:"bug",children:"Bug / error"}),(0,a.jsx)("option",{value:"other",children:"Other"})]})]}),"bug"===e&&(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(d.J,{htmlFor:"severity",children:"Severity"}),(0,a.jsxs)("select",{id:"severity",value:f,onChange:e=>b(e.target.value),className:"border-input h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm",children:[(0,a.jsx)("option",{value:"low",children:"Low"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"critical",children:"Critical"})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(d.J,{htmlFor:"title",children:"Title"}),(0,a.jsx)(l.p,{id:"title",value:r,onChange:e=>u(e.target.value),placeholder:"Short summary"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(d.J,{htmlFor:"description",children:"Details"}),(0,a.jsx)(o.T,{id:"description",rows:8,value:p,onChange:e=>g(e.target.value),placeholder:"What happened or what would you like to see?"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(d.J,{htmlFor:"email",children:"Email (optional)"}),(0,a.jsx)(l.p,{id:"email",type:"email",value:m,onChange:e=>h(e.target.value),placeholder:"you@example.com"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(d.J,{htmlFor:"url",children:"Page URL (optional)"}),(0,a.jsx)(l.p,{id:"url",type:"url",value:v,onChange:e=>x(e.target.value),placeholder:"https://…"})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(d.J,{children:"Screenshots (optional)"}),(0,a.jsxs)("div",{...P(),className:"rounded-md border border-dashed p-4 text-sm ".concat(z?"bg-accent/30":"text-muted-foreground"),children:[(0,a.jsx)("input",{...T()}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsx)("div",{children:z?"Drop images to upload…":"Drag & drop images here, or"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{ref:C,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:e=>{M(Array.from(e.target.files||[])),e.target.value=""}}),(0,a.jsx)(c.$,{type:"button",variant:"secondary",onClick:()=>{var e;return null==(e=C.current)?void 0:e.click()},children:"Choose files"})]})]}),B.length>0&&(0,a.jsx)("div",{className:"mt-3 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:B.map((e,t)=>(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("img",{src:e.url,alt:e.f.name,className:"h-20 w-full object-cover rounded"}),(0,a.jsx)("button",{type:"button",onClick:()=>{N(e=>e.filter((e,r)=>r!==t))},className:"absolute top-1 right-1 text-xs bg-background/80 border rounded px-1 opacity-0 group-hover:opacity-100",children:"\xd7"})]},t))}),(0,a.jsx)("div",{className:"mt-2 text-xs",children:"Up to 8 images • Max 5MB each."}),k.length>0&&(0,a.jsx)("div",{className:"mt-2 text-xs text-red-600",children:k.map((e,t)=>(0,a.jsxs)("div",{children:["• ",e]},t))})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.$,{onClick:L,disabled:j||_,children:j||_?"Submitting…":"Submit feedback"}),(_||E>0)&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Uploading ",E,"%"]})]})}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Stored locally on the server (no external services)."})]})]})})}},3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var a=r(5155);r(2115);var i=r(2467),s=r(3101),n=r(4269);let d=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none border border-transparent focus-visible:border-[color:var(--ring)] focus-visible:ring-ring/50 focus-visible:ring-[4px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:s,asChild:l=!1,...o}=e,c=l?i.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,n.cn)(d({variant:r,size:s,className:t})),...o})}},4269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var a=r(2821),i=r(5889);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,a.$)(t))}},5142:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var a=r(5155);r(2115);var i=r(4269);function s(e){let{className:t,type:r,...s}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}},5575:(e,t,r)=>{Promise.resolve().then(r.bind(r,2051))},6444:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var a=r(5155);r(2115);var i=r(489),s=r(4269);function n(e){let{className:t,...r}=e;return(0,a.jsx)(i.b,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}},6948:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>l,ZB:()=>d,Zp:()=>s,aR:()=>n});var a=r(5155);r(2115);var i=r(4269);function s(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,i.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,i.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,i.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,i.cn)("px-6",t),...r})}}},e=>{e.O(0,[707,596,441,255,358],()=>e(e.s=5575)),_N_E=e.O()}]);